<div
  class="page-header"
  data-parallax="true"
  style="background-image: url('./assets/img/IPCA/visita ipca.jpg')"
>
  <div class="filter"></div>
  <div class="container">
    <div class="motto text-center">
      <h1 class="titulo">IPCAsist</h1>
      <h3 class="titulo">Visitas de Empresas</h3>
      <br />
      <a
        href="https://www.facebook.com/1031699846922675/videos/378236279717955"
        class="btn btn-outline-neutral btn-round"
        target="_blank"
        ><i class="fa fa-play fa-lg fa-fw"></i> Vídeo Experiencia
      </a>
    </div>
  </div>
</div>
<div class="main">
  <div class="section text-center">
    <div class="container">
      <div class="row">
        <div class="col-md-8 mr-auto ml-auto">
          <h2 class="title">Breve Descripción</h2>
          <h5 class="description">
            En está página se permitará registrar las visitas que realicen las
            distintas empresas o instituciones al IPCA.
            <br />
            <span
              >A continuación se presenta un breve formulario, en el cual se le
              dará la facilidad de registrar todos los datos de una visita.
              <br /><br />
              Recuerde guardar los cambios cuando esté seguro que ingresó
              correctamente la información, aquí una breve explicación.
            </span>
          </h5>
          <br />
          <a
            href="#paper-kit"
            class="btn btn-outline-default btn-round"
            target="_blank"
            ><i class="fas fa-question fa-lg fa-fw"></i>Ayuda de Componentes</a
          >
        </div>
      </div>
      <br /><br />
    </div>
  </div>

  <!-- Nueva Sección -->
  <div class="section section-dark text-center">
    <div class="container">
      <h2 class="title">Registre una Visita</h2>

      <form [formGroup]="forma" (ngSubmit)="guardarVisita()">
        <div class="row justify-content-center" style="margin-top: 2em">
          <!-- Columna 1 -->
          <div class="col-md-5" style="margin-top: 2em">
            <!-- Nombre Empresa -->
            <div class="row">
              <div class="col-md-12">
                <p-card
                  header="Empresa"
                  subheader="Ingrese el nombre de la Empresa o Institución visitante."
                  styleClass="ui-card-shadow"
                >
                  <p-header>
                    <div class="head">
                      <i class="far fa-building fa-3x fa-fw icono"></i>
                    </div>
                  </p-header>
                  <div class="row justify-content-center componente">
                    <div class="ui-inputgroup">
                      <span class="ui-inputgroup-addon">
                        <i
                          class="fas fa-signature fa-lg"
                          style="line-height: 1"
                        ></i
                      ></span>
                      <input
                        type="text"
                        placeholder="Nombre"
                        pInputText
                        size="30"
                        formControlName="empresa"
                      />
                    </div>

                    <div class="row justify-content-center">
                      <p-message
                        severity="error"
                        text=" Se requiere el Nombre de la Empresa"
                        *ngIf="invalidos('empresa')"
                        style="margin-top: 1em"
                      ></p-message>
                    </div>
                  </div>
                </p-card>
              </div>
            </div>

            <!-- Representante -->
            <div class="row margen">
              <div class="col-md-12">
                <p-card
                  header="Representante"
                  subheader="Ingrese los nombres y los apellidos del Representante de la Empresa o Institución."
                  styleClass="ui-card-shadow"
                >
                  <p-header>
                    <div class="head">
                      <i class="fas fa-user fa-3x fa-fw icono"></i>
                    </div>
                  </p-header>
                  <div
                    class="row justify-content-center componente"
                    formGroupName="representante"
                  >
                    <div class="ui-inputgroup">
                      <span class="ui-inputgroup-addon">
                        <i
                          class="fas fa-user-tie fa-lg"
                          style="line-height: 1"
                        ></i
                      ></span>
                      <input
                        type="text"
                        placeholder="Nombres"
                        pInputText
                        size="35"
                        formControlName="nombres"
                      />
                    </div>
                    <div class="row justify-content-center">
                      <p-message
                        severity="error"
                        text=" Se requiere el Nombre del Representante"
                        *ngIf="sinNombres"
                        style="margin-top: 1em; margin-bottom: 1em"
                      ></p-message>
                    </div>
                    <div class="ui-inputgroup">
                      <span class="ui-inputgroup-addon">
                        <i
                          class="fas fa-user-tie fa-lg"
                          style="line-height: 1"
                        ></i
                      ></span>
                      <input
                        type="text"
                        placeholder="Apellidos"
                        size="35"
                        pInputText
                        formControlName="apellidos"
                      />
                    </div>
                    <div class="row justify-content-center">
                      <p-message
                        severity="error"
                        text=" Se requiere el Apellido del Representante"
                        *ngIf="sinApellidos"
                        style="margin-top: 1em"
                      ></p-message>
                    </div>
                  </div>
                </p-card>
              </div>
            </div>

            <!-- Card Correo -->
            <div class="row margen">
              <div class="col-md-12">
                <p-card
                  header="Correo"
                  subheader="Ingrese el correo de la Empresa o Institución, para mantenerse en contacto."
                  styleClass="ui-card-shadow"
                >
                  <p-header>
                    <div style="background-color: #cfcfcf">
                      <i class="far fa-envelope fa-3x fa-fw icono"></i>
                    </div>
                  </p-header>
                  <div class="row justify-content-center componente">
                    <div class="ui-inputgroup">
                      <span class="ui-inputgroup-addon">
                        <i class="fas fa-at fa-lg" style="line-height: 1"></i
                      ></span>
                      <input
                        type="email"
                        placeholder="Correo"
                        pInputText
                        size="35"
                        formControlName="correo"
                      />
                    </div>
                    <div class="row justify-content-center">
                      <p-message
                        severity="error"
                        text=" Se requiere el Correo de la Empresa"
                        *ngIf="invalidos('correo')"
                        style="margin-top: 1em"
                      ></p-message>
                    </div>
                  </div>
                </p-card>
              </div>
            </div>

            <!-- Card Fecha de Visita -->
            <div class="row margen">
              <div class="col-md-12">
                <p-card
                  header="Fecha de la Visita"
                  subheader="Ingrese la Fecha en que se realizará la visita."
                  styleClass="ui-card-shadow"
                >
                  <p-header>
                    <div class="head">
                      <i class="far fa-calendar-check fa-3x fa-fw icono"></i>
                    </div>
                  </p-header>
                  <div class="row justify-content-center componente">
                    <div class="ui-inputgroup">
                      <span class="ui-inputgroup-addon">
                        <i
                          class="fas fa-calendar-alt fa-lg"
                          style="line-height: 1"
                        ></i
                      ></span>
                      <p-calendar
                        [locale]="es"
                        dateFormat="dd/mm/yy"
                        placeholder="Fecha de Visita"
                        formControlName="fecha_visita"
                      ></p-calendar>
                    </div>
                    <div class="row justify-content-center">
                      <div class="col-md-12">
                        <br />
                        <p-message
                          severity="error"
                          text=" Se debe ingresar la Fecha de la Visita"
                          *ngIf="invalidos('fecha_visita')"
                        ></p-message>
                      </div>
                    </div>
                  </div>
                </p-card>
              </div>
            </div>

            <!-- Card Observación -->
            <div class="row margen">
              <div class="col-md-12">
                <p-card
                  header="Observaciones"
                  subheader="Ingrese alguna observación acerca de la visita."
                  styleClass="ui-card-shadow"
                >
                  <p-header>
                    <div class="head">
                      <i class="fas fa-clipboard fa-3x fa-fw icono"></i>
                    </div>
                  </p-header>
                  <div class="form-group componente">
                    <textarea
                      rows="5"
                      cols="50"
                      placeholder="Observación"
                      pInputTextarea
                      formControlName="observacion"
                    ></textarea>
                    <div class="row justify-content-center">
                      <p-message
                        severity="error"
                        text=" Se debe ingresar una Observación"
                        *ngIf="invalidos('observacion')"
                        style="margin-top: 1em"
                      ></p-message>
                    </div>
                  </div>
                </p-card>
              </div>
            </div>
          </div>

          <!-- Columna 2 -->
          <div class="col-md-5">
            <!-- Dirección -->
            <!-- <div class="row margen">
              <div class="col-md-12">
                <p-card
                  header="Dirección"
                  subheader="Ingrese la dirección de la Empresa o Institución visitante."
                  styleClass="ui-card-shadow"
                >
                  <p-header>
                    <div class="head">
                      <i class="fas fa-map-marker-alt fa-3x fa-fw icono"></i>
                    </div>
                  </p-header>

                  <div
                    class="row justify-content-center componente"
                    formGroupName="direccion"
                  >
                    <div class="ui-inputgroup">
                      <span class="ui-inputgroup-addon">
                        <i
                          class="fas fa-map-marked-alt fa-lg"
                          style="line-height: 1"
                        ></i
                      ></span>
                      <input
                        type="text"
                        placeholder="Calle Principal"
                        pInputText
                        size="35"
                        formControlName="calle_principal"
                      />
                    </div>

                    <div class="row justify-content-center">
                      <p-message
                        severity="error"
                        text=" Se debe ingresar una Calle Principal"
                        *ngIf="sinPrincipal"
                        style="margin-top: 1em; margin-bottom: 1em"
                      ></p-message>
                    </div>
                    <div class="ui-inputgroup">
                      <span class="ui-inputgroup-addon">
                        <i
                          class="fas fa-map-marked-alt fa-lg"
                          style="line-height: 1"
                        ></i
                      ></span>
                      <input
                        type="text"
                        placeholder="Calle Secundaria"
                        size="35"
                        pInputText
                        formControlName="calle_secundaria"
                      />
                    </div>
                    <div class="row justify-content-center">
                      <p-message
                        severity="error"
                        text=" Se debe ingresar una Calle Secundaria"
                        *ngIf="sinSecundaria"
                        style="margin-top: 1em"
                      ></p-message>
                    </div>
                  </div>
                </p-card>
              </div>
            </div> -->

            <!-- Card Motivo -->
            <div class="row margen">
              <div class="col-md-12">
                <p-card
                  header="Motivo de la Visita"
                  subheader="Ingrese el motivo por el cual la empresa hace la visita."
                  styleClass="ui-card-shadow"
                >
                  <p-header>
                    <div class="head">
                      <i class="fas fa-map-marker-alt fa-3x fa-fw icono"></i>
                    </div>
                  </p-header>

                  <div class="form-group componente">
                    <textarea
                      rows="3"
                      cols="50"
                      placeholder="Motivo"
                      pInputTextarea
                      formControlName="motivo_visita"
                    ></textarea>
                    <div class="row justify-content-center">
                      <p-message
                        severity="error"
                        text=" Debe ingresar el motivo de la visita"
                        *ngIf="invalidos('motivo_visita')"
                        style="margin-top: 1em"
                      ></p-message>
                    </div>
                  </div>
                </p-card>
              </div>
            </div>

            <!-- Card Contacto -->
            <div class="row margen">
              <div class="col-md-12">
                <p-card
                  header="Contacto"
                  subheader="Ingrese el número celular del Representante, para cualquier aviso."
                  styleClass="ui-card-shadow"
                >
                  <p-header>
                    <div style="background-color: #cfcfcf">
                      <i class="fas fa-phone fa-3x fa-fw icono"></i>
                    </div>
                  </p-header>
                  <div class="row justify-content-center componente">
                    <div class="ui-inputgroup">
                      <span class="ui-inputgroup-addon">
                        <i
                          class="fas fa-phone-square-alt fa-lg"
                          style="line-height: 1"
                        ></i
                      ></span>
                      <p-inputMask
                        mask="0999999999"
                        placeholder="Celular"
                        formControlName="contacto"
                      ></p-inputMask>
                      <div class="row justify-content-center">
                        <div class="col-md-12">
                          <p-message
                            severity="error"
                            text=" Se debe ingresar un Contacto"
                            *ngIf="invalidos('contacto')"
                            style="margin-top: 1em"
                          ></p-message>
                        </div>
                      </div>
                    </div>
                  </div>
                </p-card>
              </div>
            </div>

            <!-- Card Guia -->
            <div class="row margen">
              <div class="col-md-12">
                <p-card
                  header="Guía"
                  subheader="Ingrese el nombre del Docente a cargo de la visita."
                  styleClass="ui-card-shadow"
                >
                  <p-header>
                    <div class="head">
                      <i class="fas fa-users fa-3x fa-fw icono"></i>
                    </div>
                  </p-header>
                  <div class="row justify-content-center componente">
                    <div class="ui-inputgroup">
                      <span class="ui-inputgroup-addon">
                        <i
                          class="fas fa-user-check fa-lg"
                          style="line-height: 1"
                        ></i
                      ></span>
                      <p-autoComplete
                        [suggestions]="filteredCountriesSingle"
                        (completeMethod)="filterCountrySingle($event)"
                        field="name"
                        [size]="35"
                        placeholder="Nombre o Identificación"
                        [minLength]="1"
                        formControlName="guia"
                      ></p-autoComplete>
                    </div>
                    <div class="row justify-content-center">
                      <p-message
                        severity="error"
                        text=" Se debe ingresar una Persona a Cargo"
                        *ngIf="invalidos('guia')"
                        style="margin-top: 1em"
                      ></p-message>
                    </div>
                  </div>
                </p-card>
              </div>
            </div>

            <!-- Horario de Visita-->
            <div class="row margen">
              <div class="col-md-12">
                <p-card
                  header="Horario de la Visita"
                  subheader="Ingrese el horario en que se realizará la visita."
                  styleClass="ui-card-shadow"
                >
                  <p-header>
                    <div style="background-color: #cfcfcf">
                      <i class="far fa-clock fa-3x fa-fw icono"></i>
                    </div>
                  </p-header>
                  <div
                    class="row justify-content-center"
                    formGroupName="horario_visita"
                  >
                    <!-- Horario de Entrada-->
                    <div class="col-md-4">
                      <div class="form-group">
                        <label>Hora de Entrada</label>
                        <ngb-timepicker
                          [meridian]="meridian"
                          formControlName="horario_entrada"
                        ></ngb-timepicker>

                        <p-message
                          severity="error"
                          text=" Se debe ingresar la Hora de Entrada"
                          *ngIf="noHoraEntrada"
                          style="margin-top: 1em"
                        ></p-message>
                      </div>
                    </div>
                    <!-- Horario de Salida -->
                    <div class="col-md-4">
                      <div class="form-group">
                        <label>Hora de Salida</label>
                        <ngb-timepicker
                          [meridian]="meridian"
                          formControlName="horario_salida"
                        ></ngb-timepicker>
                        <p-message
                          severity="error"
                          text=" Se debe ingresar la Hora de Salida"
                          *ngIf="noHoraSalida"
                          style="margin-top: 1em"
                        ></p-message>
                      </div>
                    </div>
                  </div>
                </p-card>
              </div>
            </div>
          </div>
        </div>
        <br />
        <br />

        <button
          type="submit"
          class="btn btn-outline-neutral btn-round btn-lg"
          [disabled]="!forma.valid"
        >
          <i class="fas fa-save fa-lg fa-fw"></i> Registrar Visita
        </button>
      </form>
    </div>
  </div>

  <div class="section landing-section">
    <div class="container">
      <div class="row">
        <div class="col-md-8 mr-auto ml-auto">
          <h2 class="text-center">Información de Visitas</h2>
          <br />

          <p-table
            [value]="persons"
            [columns]="cols"
            [scrollable]="true"
            scrollHeight="200px"
            [resizableColumns]="true"
          >
            <ng-template pTemplate="colgroup" let-columns>
              <colgroup>
                <col *ngFor="let col of columns" />
              </colgroup>
            </ng-template>
            <ng-template pTemplate="header">
              <tr>
                <th *ngFor="let col of cols" pResizableColumn>
                  {{ col.header }}
                </th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-person>
              <tr>
                <td *ngFor="let col of cols">
                  {{ person[col.field] }}
                </td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </div>
    </div>
  </div>

  <!-- <div class="section"> -->
  <div class="container" style="margin-bottom: 10%">
    <div class="row justify-content-center">
      <div class="col-md-10">
        <div class="row">
          <div class="col-md-2">
            <img
              src="./assets/img/icons/comilla izquierda.png"
              width="80px"
              height="80px"
            />
          </div>
          <div class="col-md-8">
            <div class="row">
              <h2>
                Cualquier vida es única e irrepetible y tiene tanto valor como
                otra. Si hubiese una vida sin importancia, ninguna sería
                importante.
              </h2>
              <h5 style="margin-left: 75%; margin-top: 5%">- Olga Bejano -</h5>
            </div>
          </div>
          <div class="col-md-2" style="margin-top: 20%">
            <img
              src="./assets/img/icons/comilla derecha.png"
              width="80"
              height="80px"
            />
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- </div> -->
</div>
